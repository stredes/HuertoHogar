<!DOCTYPE html>
<!-- Documento HTML5 -->
<html lang="es">
<head>
  <!-- Codificaci√≥n para caracteres latinos -->
  <meta charset="utf-8" />
  <!-- Viewport para dise√±o responsive en m√≥viles -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- T√≠tulo de la p√°gina (pesta√±a del navegador) -->
  <title>Carrito | HuertoHogar</title>

  <!-- Bootstrap 5.3.8 CSS desde CDN para estilos y componentes -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
    crossorigin="anonymous"
  >
  <!-- Hoja de estilos propia del proyecto -->
  <link rel="stylesheet" href="../css/styles.css" />
</head>

<!-- Fondo gris claro con utilidades de Bootstrap -->
<body class="bg-light">

  <!-- =======================
       NAVBAR (barra superior)
       ======================= -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
    <div class="container">
      <!-- Logo + link a Home -->
      <a class="navbar-brand fw-bold text-success" href="../index.html">ü•ë HuertoHogar</a>

      <!-- Bot√≥n hamburguesa para colapsar men√∫ en pantallas peque√±as -->
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#nav"
        aria-controls="nav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Men√∫ colapsable con enlaces de navegaci√≥n -->
      <div class="collapse navbar-collapse" id="nav">
        <!-- ms-auto: empuja elementos a la derecha; mb-2/mb-lg-0: m√°rgenes responsivos -->
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="../index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="productos.html">Productos</a></li>
          <li class="nav-item"><a class="nav-link" href="nosotros.html">Nosotros</a></li>
          <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
          <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
          <li class="nav-item"><a class="nav-link" href="login.html">Iniciar sesi√≥n</a></li>

          <!-- Bot√≥n de cierre de sesi√≥n (suele limpiar storage en main.js o aqu√≠ con un handler) -->
          <li class="nav-item">
            <button id="btnCerrarSesion" class="btn btn-outline-danger ms-2">Cerrar Sesi√≥n</button>
          </li>

          <!-- Enlace al carrito, marcado como activo en esta vista -->
          <li class="nav-item">
            <a class="btn btn-outline-success ms-2 active" aria-current="page" href="carrito.html">üõí Carrito</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- =======================
       ENCABEZADO (t√≠tulo)
       ======================= -->
  <header class="bg-white border-bottom">
    <div class="container py-4 d-flex justify-content-between align-items-center flex-wrap gap-3">
      <!-- T√≠tulo y descripci√≥n de la p√°gina -->
      <div>
        <h1 class="h3 text-success fw-bold mb-0">Tu carrito</h1>
        <p class="text-muted mb-0">Revisa los productos seleccionados antes de continuar.</p>
      </div>

      <!-- Acciones r√°pidas: seguir comprando / vaciar carrito -->
      <div class="d-flex gap-2">
        <!-- Regreso al cat√°logo -->
        <a href="productos.html" class="btn btn-outline-success">‚ûï Seguir comprando</a>
        <!-- Bot√≥n que dispara la limpieza del carrito (controlado por carrito.js) -->
        <button id="btn-vaciar" class="btn btn-outline-danger">üóëÔ∏è Vaciar carrito</button>
      </div>
    </div>
  </header>

  <!-- =======================
       CONTENIDO PRINCIPAL
       ======================= -->
  <main class="container my-4">
    <!-- Estado "carrito vac√≠o":
         - Se muestra cuando no hay √≠tems (carrito.js alterna d-none) -->
    <div id="vacio" class="alert alert-info d-none">
      Tu carrito est√° vac√≠o. <a href="productos.html" class="alert-link">Explora el cat√°logo</a> y a√±ade productos.
    </div>

    <!-- Tabla de carrito:
         - wrap-tabla se oculta si no hay productos
         - tbody (#tbody) se rellena din√°micamente con las filas del carrito
           (c√≥digo, nombre, precio, controles de cantidad, subtotal, bot√≥n quitar) -->
    <div id="wrap-tabla" class="table-responsive d-none">
      <table class="table align-middle">
        <thead class="table-light">
          <tr>
            <th style="min-width:120px;">C√≥digo</th>     <!-- SKU/ID -->
            <th>Producto</th>                            <!-- Nombre + opcional imagen -->
            <th class="text-end" style="min-width:130px;">Precio</th>      <!-- Precio unitario -->
            <th class="text-center" style="min-width:160px;">Cantidad</th> <!-- Input/stepper +/- -->
            <th class="text-end" style="min-width:130px;">Subtotal</th>    <!-- Precio * Cantidad -->
            <th class="text-center" style="min-width:90px;">Quitar</th>    <!-- Bot√≥n eliminar item -->
          </tr>
        </thead>
        <!-- Carrito.js insertar√° aqu√≠ <tr> por cada producto -->
        <tbody id="tbody"></tbody>
      </table>
    </div>

    <!-- Panel de totales:
         - Se muestra cuando existe al menos 1 √≠tem en el carrito
         - #total se actualiza din√°micamente (formato CLP) -->
    <div id="panel-total" class="d-none">
      <div class="card shadow-sm">
        <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">
          <div>
            <div class="h5 mb-1">Total</div>
            <!-- Valor total del carrito (sumatoria de subtotales) -->
            <div id="total" class="h4 text-success mb-0">$0</div>
            <!-- Nota: sin pasarela de pagos por restricciones de la evaluaci√≥n (Forma A) -->
            <small class="text-muted">*Valores referenciales para la evaluaci√≥n. Sin procesamiento de pago.</small>
          </div>

          <!-- Acciones de checkout:
               - Bot√≥n deshabilitado (no hay flujo de pago real)
               - Enlace para volver a productos -->
          <div class="d-flex gap-2">
            <!-- Placeholder: deshabilitado por pauta -->
            <button class="btn btn-secondary" disabled>Finalizar compra (deshabilitado)</button>
            <a class="btn btn-success" href="productos.html">Agregar m√°s productos</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- =======================
       FOOTER
       ======================= -->
  <footer class="bg-white border-top py-4 mt-5">
    <div class="container d-flex justify-content-between flex-wrap">
      <!-- #year se completa mediante main.js (a√±o actual autom√°tico) -->
      <small>¬© <span id="year"></span> HuertoHogar.</small>

      <!-- Enlaces legales/informativos (placeholders) -->
      <div>
        <a href="#" class="text-muted me-3">Privacidad</a>
        <a href="#" class="text-muted me-3">T√©rminos</a>
        <a href="#" class="text-muted">Accesibilidad</a>
      </div>
    </div>
  </footer>

  <!-- =======================
       SCRIPTS
       ======================= -->

  <!-- JS global (ej.: completar a√±o, helpers de storage, etc.) -->
  <script src="../js/main.js"></script>

  <!-- Bootstrap Bundle con Popper (para collapses, tooltips, etc.) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"
  ></script>

  <!-- L√≥gica espec√≠fica del carrito:
       - Lee/actualiza √≠tems desde localStorage/sessionStorage (seg√∫n tu implementaci√≥n)
       - Calcula subtotales y total
       - Maneja eventos: incrementar/decrementar cantidad, quitar √≠tems, vaciar carrito
       - Alterna visibilidad de #vacio, #wrap-tabla y #panel-total
       - Actualiza #tbody y #total -->
  <script src="../js/carrito.js"></script>

  <!-- Bloque de script extra si necesitas handlers puntuales (actualmente vac√≠o).
       Si m√°s adelante a√±ades comportamiento inline, mantenlo m√≠nimo y documentado. -->
  <script>
    /* Ejemplo opcional:
    document.getElementById('btnCerrarSesion')?.addEventListener('click', () => {
      localStorage.clear();
      sessionStorage.clear();
      window.location.href = 'login.html';
    });
    */
  </script>
</body>
</html>
